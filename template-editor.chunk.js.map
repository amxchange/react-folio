{"version":3,"file":"template-editor.chunk.js","mappings":"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","sources":["webpack://amx-ui-components/./src/d-app/modules/utils/FormField.jsx","webpack://amx-ui-components/./src/d-app/modules/TemplateEditor/MonacoEditor/index.jsx","webpack://amx-ui-components/./src/d-app/modules/TemplateEditor/MonacoEditor/EditorPreview.jsx","webpack://amx-ui-components/./src/d-app/modules/TemplateEditor/MonacoEditor/EditorContext.jsx","webpack://amx-ui-components/./src/d-app/modules/TemplateEditor/EditorWrapper.jsx","webpack://amx-ui-components/./src/shared/services/ApiService.js","webpack://amx-ui-components/./src/d-app/modules/TemplateEditor/index.jsx","webpack://amx-ui-components/./src/d-app/modules/utils/ContentWrapper.jsx","webpack://amx-ui-components/./src/d-app/styles/utils/_form-field.scss?2b78"],"sourcesContent":["import React, { useEffect, useImperativeHandle, useRef, useState } from \"react\";\nimport { useAsyncState } from \"@shared/modules/utils/customHooks\";\nimport \"@d-app/styles/utils/_form-field.scss\";\n\n// import TextField from \"@material-ui/core/TextField\";\nconst TextField = React.forwardRef(\n    ({ id, label, value, onChangeInput, helperText, errorMsg, containerClass = \"\", ...restProps }, ref) => {\n        return (\n            <div\n                className={`form-group${errorMsg ? \" form-group-error\" : \"\"}${\n                    containerClass ? \" \" + containerClass : \"\"\n                }`}\n            >\n                {label && (\n                    <label className=\"form-control-label\" htmlFor={id}>\n                        {label}\n                    </label>\n                )}\n                <input\n                    ref={ref}\n                    id={id}\n                    className={`form-control-alternative form-control`}\n                    value={value}\n                    onChange={e => onChangeInput(e.target.value)}\n                    {...restProps}\n                />\n                <span className={`form-control-helper-text`}>{helperText}</span>\n            </div>\n        );\n    }\n);\n\nimport Select from \"react-select\";\nconst SelectField = React.forwardRef(\n    (\n        {\n            id,\n            label,\n            options = [],\n            value,\n            defaultValue,\n            onChangeInput,\n            disabled,\n            helperText,\n            errorMsg,\n            containerClass = \"\",\n            ...restProps\n        },\n        ref\n    ) => {\n        useEffect(() => {\n            /**\n             * scenario 1 - if value is passed instead of object and is present in the given options\n             */\n            if (value !== \"\" && typeof value !== \"object\") {\n                let val = options.find(opt => opt.value === value);\n                if (val) {\n                    onChangeInput(val);\n                }\n            }\n\n            /**\n             * scenario 2 - if defaultValue is passed\n             */\n            if (value === \"\" && defaultValue !== \"\") {\n                if (typeof defaultValue === \"object\") {\n                    let val = options.find(opt => opt.value === defaultValue.value);\n                    if (val) {\n                        onChangeInput(val);\n                    }\n                } else {\n                    let val = options.find(opt => opt.value === defaultValue);\n                    if (val) {\n                        onChangeInput(val);\n                    }\n                }\n            }\n\n            /**\n             * scenario 1 - populate single option\n             */\n            if (options.length === 1) {\n                onChangeInput(options[0]);\n            }\n\n            return () => {};\n        }, [value, defaultValue, options]);\n\n        return (\n            <div\n                className={`form-group${errorMsg ? \" form-group-error\" : \"\"}${\n                    containerClass ? \" \" + containerClass : \"\"\n                }`}\n            >\n                {label && (\n                    <label className=\"form-control-label\" htmlFor={id}>\n                        {label}\n                    </label>\n                )}\n                <Select\n                    ref={ref}\n                    id={id}\n                    styles={{\n                        control: (styles, state) => ({\n                            ...styles,\n                            ...(state.isFocussed\n                                ? {\n                                      boxShadow: \"none\"\n                                  }\n                                : {}),\n                            height: \"43px\",\n                            border: 0,\n                            borderRadius: \"0.375rem\",\n                            boxShadow: \"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)\",\n                            WebkitBoxShadow: \"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)\",\n                            transition: \"box-shadow 0.15s ease, -webkit-box-shadow 0.15s ease\"\n                        })\n                    }}\n                    options={options}\n                    value={value}\n                    onChange={newVal => onChangeInput(newVal)}\n                    isDisabled={disabled}\n                    {...restProps}\n                />\n                <span className={`form-control-helper-text`}>{helperText}</span>\n            </div>\n        );\n    }\n);\n\nconst DateTimeField = React.forwardRef(\n    ({ id, label, value, onChangeInput, helperText, errorMsg, ...restProps }, ref) => {\n        return (\n            <div className={`form-group${errorMsg ? \" form-group-error\" : \"\"}`}>\n                <label className=\"form-control-label\" htmlFor={id}>\n                    {label}\n                </label>\n                <input\n                    style={{ width: \"100%\", color: !value ? \"transparent\" : \"\" }}\n                    className={\"form-control-alternative form-control\"}\n                    type=\"date\"\n                    id={id}\n                    value={value ? new Date(timeRange.min).toISOString().split(\"T\")[0] : \"\"}\n                    onChange={e => onChangeInput(new Date(e.target.value).valueOf())}\n                />\n                <span className={`form-control-helper-text`}>{helperText}</span>\n            </div>\n        );\n    }\n);\n\nconst commonValidationProfiles = {\n    default(val, config = {}) {\n        if (val === \"\" || val === null || val === undefined) {\n            let emptyErr = config.emptyErr || `Please enter ${config.label || config.hiddenLabel || \"this field\"}`;\n            return {\n                valid: false,\n                errorMsg: emptyErr\n            };\n        } else {\n            return {\n                valid: true\n            };\n        }\n    },\n    email(val, config = {}) {\n        // let regex = /^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*$/\n        let regex = /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i;\n        let valid = regex.test(val);\n        return {\n            valid,\n            errorMsg: `Please Enter Valid ${config.label || config.hiddenLabel || \"Input\"}`\n        };\n    }\n};\n\nconst getValidators = validationProfileKeys => {\n    let validators = (validationProfileKeys || []).map(v => {\n        if (commonValidationProfiles[v] === undefined) {\n            if (typeof v === \"function\") return v;\n            if (v instanceof RegExp || validationService.validRegex(v)) {\n                let regExp = v;\n                if (validationService.validRegex(v)) regExp = validationService.regexpStringToObj(v);\n                return value => ({\n                    valid: regExp.test(value),\n                    errorMsg: \"Invalid Input\"\n                });\n            }\n            console.error(`no validation profile found for ${v}`);\n        }\n        return commonValidationProfiles[v];\n    });\n    return validators;\n};\n\nconst REGEX_SPLITTER = \"REGEX_SPLITTER\";\n\nconst validationService = {\n    regexpStringToObj(regexpString) {\n        let regexpMatcher = /\\/(.+)\\/([gmiyus]{0,6})/;\n        let regexpWithoutSlashes = regexpString.replace(regexpMatcher, `$1${REGEX_SPLITTER}$2`);\n        return new RegExp(...regexpWithoutSlashes.split(REGEX_SPLITTER));\n    },\n    validRegex(str) {\n        let isValid = true;\n        try {\n            new RegExp(str);\n        } catch (e) {\n            isValid = false;\n        }\n        return isValid;\n    },\n    validate(validators, { value, config }) {\n        let results = [];\n        for (let i = 0; i < validators.length; i++) {\n            let validator = validators[i];\n            if (validator) results.push(validator(value, config));\n        }\n        return results;\n    }\n};\n\nconst formFields = {\n    text: TextField,\n    select: SelectField,\n    date: DateTimeField\n};\n\nconst FormField = React.forwardRef(\n    (\n        {\n            controlled = false,\n            type = \"text\",\n            id = `uniqId-${+new Date()}`,\n            value = \"\",\n            onChange,\n            disabled,\n            required,\n            validationProfiles, // registered common validation methods\n            inputValidator, // custom validation method\n            inputValidations, // validate user input before setting it in state\n            liveValidations, // validate on every input update\n            ...restProps\n        },\n        ref\n    ) => {\n        let fieldOpts = {\n            // options that are to be passed ahead\n            type,\n            id,\n            disabled,\n            ...restProps\n        };\n\n        const inputRef = useRef();\n        const [_value, setValue] = useAsyncState(\"\");\n        const [errorMsg, setErrorMsg] = useState(\"\");\n\n        useEffect(() => {}, []);\n\n        const focus = () => inputRef.current.focus();\n\n        const getVal = () => (controlled ? value : _value);\n\n        const setVal = val => setValue(val);\n\n        const setError = msg => setErrorMsg(msg);\n\n        const clearError = () => setErrorMsg(\"\");\n\n        const val = val => {\n            if (val === undefined) return getVal();\n            return setVal(val);\n        };\n\n        const isValid = () => {\n            if ((required === false && getVal() === \"\") || disabled) {\n                clearError();\n                return true;\n            }\n            let validators = [\n                ...(inputValidator ? [inputValidator] : []),\n                ...getValidators(validationProfiles ? [\"default\", ...validationProfiles] : [\"default\"])\n            ];\n            let validationResults = validationService.validate(validators, {\n                value: getVal(),\n                fieldOpts\n            });\n            let errors = validationResults.filter(v => !v.valid);\n            if (errors.length) setError(errors[0].errorMsg);\n            return errorMsg ? false : errors.length === 0; /* In case error is set explicitly */\n        };\n\n        const isInputValid = value => {\n            let validators = getValidators(inputValidations);\n            let validationResults = validationService.validate(validators, {\n                value,\n                fieldOpts\n            });\n            return validationResults.every(v => v.valid === true);\n        };\n\n        const liveValidate = value => {\n            let liveValidators = getValidators(liveValidations || [\"default\"]);\n            let validationResults = validationService.validate(liveValidators, {\n                value,\n                fieldOpts\n            });\n            let errors = validationResults.filter(v => v.valid === false);\n            if (errors.length) setError(errors[0].errorMsg);\n        };\n\n        const onChangeInput = async (newVal, notFromUser) => {\n            if (inputValidations && !isInputValid(newVal)) return;\n            clearError();\n            if (controlled) {\n                if (liveValidations) liveValidate(newVal);\n                if (onChange) onChange(newVal);\n                return;\n            }\n            await setVal(newVal);\n            if (liveValidations) liveValidate(newVal);\n            if (onChange && !notFromUser) onChange(newVal);\n        };\n\n        useImperativeHandle(ref, () => ({\n            focus,\n            isValid,\n            val,\n            setError,\n            clearError\n        }));\n\n        let Field = formFields[type];\n        if (!Field) {\n            Field = formFields[\"text\"];\n            console.error(`FormField type : ${type} not found, falling back to 'text'`);\n        }\n        return (\n            <Field\n                ref={inputRef}\n                value={controlled ? value : _value}\n                onChangeInput={onChangeInput}\n                errorMsg={errorMsg}\n                helperText={errorMsg} // later accomodate warning and default texts\n                {...fieldOpts}\n            />\n        );\n    }\n);\n\nexport default FormField;\n","import React, { useState, useRef } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport { useEffect } from \"react\";\n\nconst getCompletionItem = ({ path, key, value, kind, range }) => ({\n    label: path,\n    kind,\n    documentation: `${path} = ${JSON.stringify(value)}`,\n    insertText: path,\n    range\n});\n\nconst convertObjectIntoArrayOfKeys = (obj, rootKey, kind, range) => {\n    let arr = [];\n    for (const key in obj) {\n        const value = obj[key];\n        let type = Object.prototype.toString.call(value);\n        let path = `${rootKey ? rootKey + \".\" : \"\"}${key}`;\n        if (type === \"[object Object]\") {\n            let subArr = convertObjectIntoArrayOfKeys(value, path, kind, range);\n            arr = arr.concat(subArr);\n        } else {\n            arr.push(getCompletionItem({ path, key, value, kind, range }));\n        }\n    }\n    return arr;\n};\n\nconst MonacoEditor = props => {\n    const { theme, language, value, setValue, completetionItemsJsonStr } = props;\n\n    const editorRef = useRef(null);\n    const monacoRef = useRef(null);\n    const disposeCompletionItems = useRef(null);\n\n    useEffect(() => {\n        return () => {\n            if (disposeCompletionItems.current) {\n                disposeCompletionItems.current.dispose();\n            }\n        };\n    }, []);\n\n    useEffect(() => {\n        if (completetionItemsJsonStr) {\n            let completetionItemsObj = JSON.parse(completetionItemsJsonStr);\n\n            if (disposeCompletionItems.current) {\n                disposeCompletionItems.current.dispose();\n            }\n\n            console.log(\"registering completion items\", completetionItemsObj);\n            disposeCompletionItems.current = monacoRef.current.languages.registerCompletionItemProvider(\n                [\"html\", \"handlebars\"],\n                {\n                    triggerCharacters: [\"{\", \".\"],\n                    provideCompletionItems: function (model, position) {\n                        var textUntilPosition = model.getValueInRange({\n                            startLineNumber: position.lineNumber,\n                            startColumn: 1,\n                            endLineNumber: position.lineNumber,\n                            endColumn: position.column\n                        });\n                        // var match = textUntilPosition.match(/\\$\\{data.[\\w.]*$/);\n                        var match = textUntilPosition.match(/\\{\\{[\\w.]*$/);\n                        if (!match) {\n                            return {\n                                suggestions: []\n                            };\n                        }\n                        var word = model.getWordUntilPosition(position);\n                        var range = {\n                            startLineNumber: position.lineNumber,\n                            endLineNumber: position.lineNumber,\n                            startColumn: word.startColumn,\n                            endColumn: word.endColumn\n                        };\n                        let suggestionKind = monacoRef.current.languages.CompletionItemKind.Function;\n                        let suggestions = convertObjectIntoArrayOfKeys(\n                            completetionItemsObj,\n                            null,\n                            suggestionKind,\n                            range\n                        );\n                        return {\n                            suggestions\n                        };\n                    }\n                }\n            );\n        }\n    }, [completetionItemsJsonStr]);\n\n    function handleEditorWillMount(monaco) {\n        console.log(\"beforeMount: the monaco instance:\", monaco);\n    }\n\n    function handleEditorDidMount(editor, monaco) {\n        console.log(\"onMount: the editor instance:\", editor);\n        console.log(\"onMount: the monaco instance:\", monaco);\n\n        editorRef.current = editor;\n        monacoRef.current = monaco;\n    }\n\n    function handleEditorChange(newValue, event) {\n        setValue(newValue);\n    }\n\n    function handleEditorValidation(markers) {\n        // model markers\n        markers.forEach(marker => console.log(\"onValidate:\", marker.message));\n    }\n\n    return (\n        <Editor\n            theme={theme}\n            beforeMount={handleEditorWillMount}\n            onMount={handleEditorDidMount}\n            language={language}\n            value={value}\n            onChange={handleEditorChange}\n            onValidate={handleEditorValidation}\n            options={{}}\n        />\n    );\n};\n\nexport default MonacoEditor;\n\n/**\n * https://github.com/portabletext/react-portabletext\n * https://www.npmjs.com/package/react-simple-code-editor\n * https://codesandbox.io/s/u6vhk?file=/src/Editor.js\n * https://codesandbox.io/s/react-live-editor-jgm04?from-embed=&file=/src/editor.js\n */\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { ToastUtil } from \"@shared/modules/utils\";\n\nconst replaceVariables = (result, __properties) => {\n    let variables = result.match(/\\${[a-zA-Z0-9.\\-_]*}/g);\n    if (!variables) return result;\n    let variableValues = __properties.__variables || {};\n    for (let i = 0; i < variables.length; i++) {\n        const variable = variables[i];\n        const variableValue = variableValues[variable.slice(2, -1)];\n        result = result.replace(variable, variableValue || fallback);\n    }\n    if (result.includes(\"${\")) {\n        return replaceVariables(result, __properties);\n    }\n    return result;\n};\n\nHandlebars.registerHelper(\"_prop\", (key, options) => {\n    let fallback = \"___\";\n\n    if (typeof key !== \"string\") return fallback;\n\n    let { __properties = {} } = options.data ? options.data.root || {} : {};\n    let result = `${__properties[key] || fallback}`;\n\n    if (result.includes(\"@\")) {\n        let env = \"default\";\n        result = result.replaceAll(\"@env\", env);\n    }\n\n    if (result.includes(\"${\")) {\n        result = replaceVariables(result, __properties);\n    }\n\n    if (result.includes(fallback)) {\n        ToastUtil.info(`Property '${key}' was not found. Please re-check property name`);\n    }\n\n    return result;\n});\n\nfunction EditorPreview(props) {\n    const { isViewed, value, data = {}, properties = {} } = props;\n\n    const iframeRef = useRef();\n\n    useEffect(() => {\n        if (isViewed && value) {\n            let previewValue = value;\n\n            try {\n                const template = Handlebars.compile(value);\n                previewValue = template({ ...data, __properties: properties });\n            } catch (error) {\n                ToastUtil.error(`${error.message}`);\n            }\n\n            console.log(\"EditorPreview writing..\");\n            iframeRef.current.contentWindow.document.open();\n            iframeRef.current.contentWindow.document.write(previewValue);\n            iframeRef.current.contentWindow.document.close();\n        }\n    });\n\n    return (\n        <>\n            <iframe ref={iframeRef} />\n        </>\n    );\n}\n\nexport default EditorPreview;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Row, Col, Button } from \"reactstrap\";\nimport Tabs, { TabPane } from \"rc-tabs\";\nimport Editor from \"@monaco-editor/react\";\nimport { ToastUtil } from \"@shared/modules/utils\";\n\nfunction isJsonString(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\nfunction EditorContext(props) {\n    const { completetionItemsJsonStr, setCompletetionItemsJsonStr, properties } = props;\n    const [value, setValue] = useState(\"\");\n    const [isRegistered, setIsRegistered] = useState(false);\n\n    useEffect(() => {\n        if (completetionItemsJsonStr && !value) {\n            setValue(completetionItemsJsonStr);\n        }\n    }, [completetionItemsJsonStr]);\n\n    const handleRegister = () => {\n        if (!value) return ToastUtil.info(\"Please enter value or '{}' to proceed\");\n        if (isJsonString(value)) {\n            setIsRegistered(true);\n            setCompletetionItemsJsonStr(value);\n        } else {\n            ToastUtil.error(\"Invalid input value\");\n        }\n    };\n\n    function handleValidation(markers) {\n        // model markers\n        markers.forEach(marker => console.log(\"onValidate:\", marker.message));\n    }\n\n    return (\n        <Row>\n            <Col xs=\"12\">\n                <Tabs tabBarGutter={30}>\n                    <TabPane tab=\"Data\" key=\"data\">\n                        <div className=\"mt-2\">\n                            <Editor\n                                height={\"48vh\"}\n                                theme={\"light\"}\n                                beforeMount={() => {}}\n                                onMount={() => {}}\n                                language={\"json\"}\n                                value={value}\n                                onChange={newVal => setValue(newVal)}\n                                onValidate={handleValidation}\n                                options={{\n                                    minimap: { enabled: false },\n                                    readOnly: isRegistered\n                                }}\n                            />\n                        </div>\n                        <div className=\"mt-2\">\n                            <Button\n                                color=\"primary\"\n                                onClick={e => {\n                                    if (value) {\n                                        if (isJsonString(value)) {\n                                            setValue(JSON.stringify(JSON.parse(value), undefined, 4));\n                                        } else {\n                                            ToastUtil.error(\"Invalid input value\");\n                                        }\n                                    } else {\n                                        ToastUtil.info(\"Please enter value or '{}' to proceed\");\n                                    }\n                                }}\n                                size=\"sm\"\n                            >\n                                validate json\n                            </Button>\n                            <Button color=\"default\" onClick={e => setValue(\"\")} size=\"sm\">\n                                clear\n                            </Button>\n                            <Button\n                                color=\"primary\"\n                                onClick={e => (isRegistered ? setIsRegistered(false) : handleRegister())}\n                                size=\"sm\"\n                            >\n                                {isRegistered ? \"modify\" : \"register\"}\n                            </Button>\n                        </div>\n                    </TabPane>\n                    <TabPane tab=\"Properties\" key=\"properties\">\n                        <div className=\"mt-2\">\n                            <Editor\n                                height={\"50vh\"}\n                                theme={\"light\"}\n                                beforeMount={() => {}}\n                                onMount={() => {}}\n                                language={\"json\"}\n                                value={JSON.stringify(properties, null, 4)}\n                                options={{\n                                    minimap: { enabled: false },\n                                    readOnly: true\n                                }}\n                            />\n                        </div>\n                    </TabPane>\n                </Tabs>\n            </Col>\n        </Row>\n    );\n}\n\nexport default EditorContext;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Row, Col, Button, Card, CardHeader, CardFooter, Collapse } from \"reactstrap\";\nimport Tabs, { TabPane } from \"rc-tabs\";\nimport FormField from \"@d-app/modules/utils/FormField\";\nimport { ToastUtil } from \"@shared/modules/utils\";\nimport {\n    convertStringToNode,\n    // convertNodeToString,\n    toJSON,\n    // toDOM,\n    maskThymeleafExpressions\n    // unmaskThymeleafExpressions\n} from \"@shared/utils\";\nimport MonacoEditor from \"@d-app/modules/TemplateEditor/MonacoEditor\";\nimport EditorPreview from \"@d-app/modules/TemplateEditor/MonacoEditor/EditorPreview\";\nimport EditorContext from \"@d-app/modules/TemplateEditor/MonacoEditor/EditorContext\";\n\nconst EDITOR_LANGUAGE_OPTIONS = [\n    { label: \"handlebars\", value: \"handlebars\" },\n    { label: \"html\", value: \"html\" }\n    // { label: \"javascript\", value: \"javascript\" }\n];\nconst EDITOR_THEME_OPTIONS = [\n    { label: \"Light\", value: \"light\" },\n    { label: \"Dark\", value: \"vs-dark\" }\n];\nconst getDefaultContent = language => {\n    const markupContent = `<html>\n    <head></head>\n    <body>\n        \n    </body>\n</html>`;\n\n    switch (language) {\n        case \"html\":\n        case \"handlebars\":\n            return markupContent;\n\n        default:\n            return \"\";\n    }\n};\n\nconst EditorWrapper = props => {\n    const { title = \"\", mode, collapse = false, setCollapse, data = {}, onAction, reset } = props;\n\n    const [value, setValue] = useState(\"\");\n    const [completetionItemsJsonStr, setCompletetionItemsJsonStr] = useState(\"\");\n\n    const emailRef = useRef();\n    const [emailVal, setEmailVal] = useState(\"amx@ui.co\");\n\n    const commitMsgRef = useRef();\n    const [commitMsgVal, setCommitMsgVal] = useState(\"\");\n\n    const [editorLanguage, setEditorLanguage] = useState(EDITOR_LANGUAGE_OPTIONS[0]);\n    const [editorTheme, setEditorTheme] = useState(EDITOR_THEME_OPTIONS[0]);\n\n    const [activeTab, setActiveTab] = useState(\"editor\");\n\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (mode === \"CREATE\") {\n            setValue(getDefaultContent(editorLanguage.value));\n        }\n    }, []);\n\n    useEffect(() => {\n        if (mode === \"UPDATE\") {\n            // const content = atob(data.content);\n            const content = decodeURIComponent(escape(window.atob(data.content)));\n            setValue(content);\n            if (data.content_data) {\n                setTimeout(() => {\n                    setCompletetionItemsJsonStr(JSON.stringify(data.content_data, null, 4));\n                }, 1000);\n            }\n        }\n    }, [data.content]);\n\n    const _onAction = async type => {\n        if (type === \"CREATE\" && !value) return ToastUtil.error(`Template content cannot be empty`);\n        if ([commitMsgRef.current.isValid(), emailRef.current.isValid()].includes(false)) return;\n\n        let content_json = \"\";\n        try {\n            let value_without_th_expressions = maskThymeleafExpressions(value);\n            let content_dom = convertStringToNode(value_without_th_expressions);\n            if (content_dom.textContent.includes(\"This page contains the following errors:\")) {\n                let m = content_dom.textContent.split(\":\").map(c => c.trim());\n                m.pop();\n                m.push(\"TIP: Try to wrap your content inside a valid HTML tag / node\");\n                m = m.join(\" : \");\n                return ToastUtil.error(m);\n            }\n            content_json = toJSON(content_dom);\n\n            // let content_dom_again = toDOM(content_json);\n            // let value_again = convertNodeToString(content_dom_again);\n            // let value_with_th_expressions = unmaskThymeleafExpressions(value_again);\n        } catch (error) {\n            console.error(\"error while converting template string to json object \", error);\n        }\n\n        let payload = {\n            email: emailVal,\n            commitMessage: commitMsgVal,\n            ...(type !== \"DELETE\"\n                ? {\n                      //   content: btoa(value),\n                      content: btoa(unescape(encodeURIComponent(value))),\n                      content_json,\n                      content_data: completetionItemsJsonStr ? JSON.parse(completetionItemsJsonStr) : {}\n                  }\n                : {})\n        };\n\n        try {\n            setLoading(true);\n            if (onAction) await onAction(payload, type);\n            setTimeout(() => {\n                reset && reset();\n            }, 500);\n        } catch (error) {\n            console.log(\"Action failed - \", type);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Card className=\"shadow\">\n            {/* <CardHeader>\n                <Row className=\"align-items-center\">\n                    <Col xs=\"8\">{title && <h3 className=\"mb-0\">{title}</h3>}</Col>\n                    <Col className=\"text-right\" xs=\"4\">\n                        <Button color=\"primary\" onClick={e => {}} size=\"sm\">\n                            Preview\n                        </Button>\n                        <Button color=\"primary\" onClick={e => setCollapse && setCollapse(prev => !prev)} size=\"sm\">\n                            {collapse ? \"Expand\" : \"Hide\"}\n                        </Button>\n                    </Col>\n                </Row>\n            </CardHeader> */}\n            <Collapse isOpen={!collapse}>\n                <div className=\"px-4 mb-4\">\n                    <Row>\n                        <Col xs=\"12\">\n                            <Tabs onChange={key => setActiveTab(key)} tabBarGutter={30}>\n                                <TabPane tab=\"Editor\" key=\"editor\">\n                                    <div className={\"tab-content mt-2\"}>\n                                        <Row className=\"tab-content-header\">\n                                            <Col xs=\"2\">\n                                                <FormField\n                                                    controlled={true}\n                                                    type={\"select\"}\n                                                    label={\"Input Language\"}\n                                                    value={editorLanguage}\n                                                    onChange={newVal => {\n                                                        setEditorLanguage(newVal);\n                                                    }}\n                                                    options={EDITOR_LANGUAGE_OPTIONS}\n                                                />\n                                            </Col>\n                                            <Col xs=\"2\">\n                                                <FormField\n                                                    controlled={true}\n                                                    type={\"select\"}\n                                                    label={\"Theme\"}\n                                                    value={editorTheme}\n                                                    onChange={newVal => {\n                                                        setEditorTheme(newVal);\n                                                    }}\n                                                    options={EDITOR_THEME_OPTIONS}\n                                                />\n                                            </Col>\n                                        </Row>\n                                        <Row className=\"tab-content-body\">\n                                            <Col>\n                                                <MonacoEditor\n                                                    theme={editorTheme.value}\n                                                    language={editorLanguage.value}\n                                                    value={value}\n                                                    setValue={setValue}\n                                                    completetionItemsJsonStr={completetionItemsJsonStr}\n                                                />\n                                            </Col>\n                                        </Row>\n                                    </div>\n                                </TabPane>\n                                <TabPane tab=\"Context\" key=\"context\">\n                                    <div className={\"tab-content\"}>\n                                        <EditorContext\n                                            completetionItemsJsonStr={completetionItemsJsonStr}\n                                            setCompletetionItemsJsonStr={setCompletetionItemsJsonStr}\n                                            properties={data.properties}\n                                        />\n                                    </div>\n                                </TabPane>\n                                <TabPane tab=\"Preview\" key=\"preview\">\n                                    <div className={\"tab-content\"}>\n                                        <EditorPreview\n                                            isViewed={activeTab === \"preview\"}\n                                            value={value}\n                                            data={\n                                                completetionItemsJsonStr\n                                                    ? JSON.parse(completetionItemsJsonStr)\n                                                    : undefined\n                                            }\n                                            properties={data.properties}\n                                        />\n                                    </div>\n                                </TabPane>\n                            </Tabs>\n                        </Col>\n                    </Row>\n                </div>\n                <CardFooter className=\"py-4\">\n                    <Row>\n                        <Col lg=\"4\">\n                            <FormField\n                                ref={commitMsgRef}\n                                controlled={true}\n                                type={\"text\"}\n                                placeholder={\"Commit message\"}\n                                value={commitMsgVal}\n                                onChange={newVal => setCommitMsgVal(newVal)}\n                            />\n                        </Col>\n                        <Col lg=\"4\">\n                            <FormField\n                                ref={emailRef}\n                                controlled={true}\n                                type={\"text\"}\n                                placeholder={\"Commit email\"}\n                                value={emailVal}\n                                onChange={newVal => setEmailVal(newVal)}\n                            />\n                        </Col>\n                        <Col className=\"text-right\">\n                            {mode == \"UPDATE\" ? (\n                                <>\n                                    <Button\n                                        color=\"primary\"\n                                        onClick={e => (loading ? () => {} : _onAction(\"UPDATE\"))}\n                                        size=\"md\"\n                                    >\n                                        {loading ? \"loading...\" : \"Update\"}\n                                    </Button>\n                                    <Button\n                                        color=\"danger\"\n                                        onClick={e => (loading ? () => {} : _onAction(\"DELETE\"))}\n                                        size=\"md\"\n                                    >\n                                        {loading ? \"loading...\" : \"Delete\"}\n                                    </Button>\n                                </>\n                            ) : (\n                                <Button\n                                    color=\"primary\"\n                                    onClick={e => (loading ? () => {} : _onAction(\"CREATE\"))}\n                                    size=\"md\"\n                                >\n                                    {loading ? \"loading...\" : \"Create\"}\n                                </Button>\n                            )}\n                            <Button color=\"default\" onClick={e => reset && reset()} size=\"md\">\n                                Cancel\n                            </Button>\n                        </Col>\n                    </Row>\n                </CardFooter>\n            </Collapse>\n        </Card>\n    );\n};\n\nexport default EditorWrapper;\n","import axios from \"axios\";\nimport { serializeParams } from \"@shared/utils\";\n\nexport class ApiService {\n    constructor({ prefix = \"\", responseBuilder = res => res } = {}) {\n        this.prefix = prefix;\n        this.responseBuilder = responseBuilder;\n    }\n\n    get = (url, data, options) => this.request({ url, method: \"get\", data, options });\n\n    post = (url, data, options) => this.request({ url, method: \"post\", data, options });\n\n    put = (url, data, options) => this.request({ url, method: \"put\", data, options });\n\n    delete = (url, data, options) => this.request({ url, method: \"delete\", data, options });\n\n    postFormData = (url, data, options) => {\n        data = serializeParams(data);\n        return this.post(url, data, {\n            ...options,\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                ...options.headers\n            }\n        });\n    };\n\n    request = async ({ url, method, data, options = {} }) => {\n        url = this.getUrl({ url, options });\n        let axiosArgs = this.getAxiosArgs({ url, method, data, options });\n        try {\n            let response = await axios.request(axiosArgs);\n            if (\n                response.status !== 200\n                // || (response.data.statusKey !== \"SUCCESS\" && !(response.data instanceof Blob))\n            ) {\n                console.log(\n                    `%c ApiService request: ${url} (${method}) status non success: ${response}`,\n                    \"background: #701414; color: #bada55\"\n                );\n                console.log(`%c throwing`, \"background: #701414; color: #bada55\");\n                throw response;\n            }\n            return this.responseBuilder(response);\n        } catch (thrown) {\n            if (axios.isCancel(thrown)) {\n                console.log(\"Request canceled\", thrown.message);\n            } else {\n                if (\n                    false // add condition for need of custom interceptor in case of failure\n                ) {\n                    let interceptorResp = await this.errorResponseInterceptor({\n                        method,\n                        url,\n                        axiosArgs,\n                        response: thrown.response\n                    });\n                    return this.responseBuilder(interceptorResp);\n                }\n                console.log(\n                    `%c ApiService request: ${url} (${method}) catch: ${thrown.response}`,\n                    \"background: #701414; color: #bada55\"\n                );\n            }\n            throw thrown;\n        }\n    };\n\n    errorResponseInterceptor = ({ url, method, axiosArgs, response }) => {\n        return new Promise.resolve();\n    };\n\n    getUrl = ({ url, options = {} }) => {\n        let result = \"\";\n        let urlType =\n            options && options.urlType && typeof options.urlType === \"string\" ? options.urlType.toLowerCase() : \"\";\n        switch (urlType) {\n            case \"absolute\":\n                result = url;\n                break;\n            case \"relative\":\n                result = this.prefix + url;\n                break;\n            default:\n                result = this.prefix + url;\n        }\n        return result;\n    };\n\n    getAxiosArgs = ({ url, method, data, options = {} }) => {\n        let _options = {\n            ...options,\n            headers: {\n                Accept: \"application/json\",\n                ...options.headers\n            }\n        };\n        let axiosArgs = {\n            url,\n            method,\n            responseType: _options.responseType,\n            headers: _options.headers,\n            cancelToken: _options.cancelToken\n        };\n        switch (method) {\n            case \"get\":\n                axiosArgs = { ...axiosArgs, params: data };\n                break;\n            case \"post\":\n            case \"put\":\n            case \"delete\":\n                axiosArgs = { ...axiosArgs, data, params: _options.params };\n                break;\n            default:\n                break;\n        }\n        return axiosArgs;\n    };\n}\n\nexport const Api = {\n    root: new ApiService({\n        prefix: (window.CONST?.remoteServerUrl || \"\") + \"/api/v1\",\n        responseBuilder: res => res.data\n    })\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Card, CardHeader, CardBody, Row, Col, FormGroup, Form } from \"reactstrap\";\nimport ContentWrapper from \"@d-app/modules/utils/ContentWrapper\";\nimport FormField from \"@d-app/modules/utils/FormField\";\nimport EditorWrapper from \"@d-app/modules/TemplateEditor/EditorWrapper\";\nimport { Api } from \"@shared/services/ApiService\";\nimport { ToastUtil } from \"@shared/modules/utils\";\n\nconst TemplateEditor = props => {\n    const [loading, setLoading] = useState(false);\n\n    const [meta, setMeta] = useState({});\n\n    const [editorMode, setEditorMode] = useState(null);\n\n    const tenantRef = useRef();\n    const [tenantVal, setTenantVal] = useState(null);\n\n    const channelRef = useRef();\n    const [channelVal, setChannelVal] = useState(\"\");\n\n    const languageRef = useRef();\n    const [languageVal, setLanguageVal] = useState(\"\");\n\n    const templateNameRef = useRef();\n    const [templateNameVal, setTemplateNameVal] = useState(\"\");\n\n    const templateNameSelectRef = useRef();\n    const [templateNameSelectVal, setTemplateNameSelectVal] = useState(\"\");\n    const [templateNameSelectOpts, setTemplateNameSelectOpts] = useState([]);\n\n    const [templateData, setTemplateData] = useState(\"\");\n\n    const [showEditor, setShowEditor] = useState(false);\n    const [editorCollapse, setEditorCollapse] = useState(false);\n\n    useEffect(() => {\n        const init = async () => {\n            let _meta = await fetchMeta();\n            setMeta(_meta);\n            setEditorMode(_meta.editorModeOptions[0]);\n            setTenantVal(_meta.tenantOptions[0]);\n\n            fetchTemplates({ tenant: _meta.tenantOptions[0].value });\n        };\n\n        init();\n    }, []);\n\n    const fetchMeta = async () => {\n        let meta = {};\n        try {\n            let res = await Api.root.get(\"/pub/meta\");\n            meta = res.data;\n        } catch (error) {\n            console.error(error);\n        }\n        return meta;\n    };\n\n    const fetchTemplates = async ({ tenant, channel, language } = {}) => {\n        if (editorMode?.value === \"CREATE\") return;\n\n        let req = {\n            tenant: tenant === undefined ? tenantVal?.value : tenant,\n            channel: channel === undefined ? channelVal?.value : channel,\n            language: language === undefined ? languageVal?.value : language,\n            per_page: 100 //TODO\n        };\n        try {\n            setLoading(true);\n            let res = await Api.root.get(\"/template\", req);\n            let _templateNameSelectOpts = res.data.map(t => ({ label: t.name, value: t.name, path: t.path }));\n            setTemplateNameSelectOpts(_templateNameSelectOpts);\n            if (!_templateNameSelectOpts.length) {\n                setTemplateNameSelectVal(\"\");\n            }\n        } catch (error) {\n            console.error(error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const fetchTemplate = async () => {\n        if (!templateNameSelectRef.current.isValid()) return;\n        let req = {\n            templatePath: templateNameSelectVal.path\n        };\n        try {\n            setLoading(true);\n            let res = await Api.root.get(`/template/${templateNameSelectVal.value}`, req);\n            let { content, content_data, properties } = res.data;\n            setTemplateData({ ...content, content_data, properties: properties[tenantVal.value] });\n            setShowEditor(true);\n        } catch (error) {\n            console.error(error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const fetchProperties = async () => {\n        try {\n            let res = await Api.root.get(`/template/properties`, { tenant: tenantVal.value });\n            setTemplateData(prev => ({ ...prev, properties: res.data.properties }));\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const onProceed = () => {\n        if (editorMode?.value === \"CREATE\") {\n            if (!templateNameRef.current.isValid()) return;\n            fetchProperties();\n            setShowEditor(true);\n        } else {\n            fetchTemplate();\n        }\n    };\n\n    const onAction = async (req, type) => {\n        if (type === \"CREATE\") {\n            req.tenant = tenantVal?.value;\n            req.channel = channelVal?.value;\n            req.language = languageVal?.value;\n        }\n        req.templatePath = templateNameSelectVal.path;\n        let actionTypeMeta = {\n            CREATE: { label: \"Create\", method: \"post\" },\n            UPDATE: { label: \"Update\", method: \"put\" },\n            DELETE: { label: \"Delete\", method: \"delete\" }\n        };\n        try {\n            await Api.root[actionTypeMeta[type].method](\n                `/template/${type === \"CREATE\" ? templateNameVal : templateNameSelectVal.value}`,\n                req\n            );\n            ToastUtil.success(actionTypeMeta[type].label + \" successful\");\n            return \"success\";\n        } catch (error) {\n            ToastUtil.error(actionTypeMeta[type].label + \" failed\");\n            throw error;\n        }\n    };\n\n    const reset = ({ avoidResetTemplates } = {}) => {\n        setShowEditor(false);\n        setTenantVal(meta.tenantOptions[0]);\n        setChannelVal(\"\");\n        setLanguageVal(\"\");\n        setTemplateNameVal(\"\");\n        setTemplateNameSelectVal(\"\");\n        setTemplateData(\"\");\n        if (!avoidResetTemplates) fetchTemplates({ channel: null, language: null });\n    };\n\n    return (\n        <ContentWrapper>\n            <Row>\n                <Col className=\"order-xl-1\" xl=\"12\">\n                    <Card className=\"bg-secondary shadow\">\n                        <CardHeader className=\"bg-white border-0\">\n                            <Row className=\"align-items-center\">\n                                <Col xs=\"8\">\n                                    <Row className=\"align-items-center\">\n                                        <Col xs=\"2\">\n                                            <h3 className=\"mb-0\">Editor mode</h3>\n                                        </Col>\n                                        <Col xs=\"4\">\n                                            <FormField\n                                                controlled={true}\n                                                type={\"select\"}\n                                                value={editorMode}\n                                                onChange={newVal => {\n                                                    setEditorMode(newVal);\n                                                    reset({ avoidResetTemplates: true });\n                                                }}\n                                                options={meta.editorModeOptions}\n                                                containerClass={\"mb-0\"}\n                                            />\n                                        </Col>\n                                    </Row>\n                                </Col>\n                                <Col className=\"text-right\" xs=\"4\">\n                                    <Button color=\"primary\" onClick={e => reset()} size=\"sm\">\n                                        Reset\n                                    </Button>\n                                </Col>\n                            </Row>\n                        </CardHeader>\n                        <CardBody>\n                            <Form>\n                                {meta.repoUrl && meta.branchName && (\n                                    <>\n                                        <h6 className=\"heading-small text-muted mb-0\">Gitlab details</h6>\n                                        <p style={{ opacity: \"0.5\" }}>\n                                            &#62;&#62; {meta.repoUrl} &nbsp;&nbsp;&#62;&#62; {meta.branchName}\n                                        </p>\n                                    </>\n                                )}\n                                <div className=\"pl-lg-4\">\n                                    <Row>\n                                        <Col lg=\"2\">\n                                            <FormField\n                                                ref={tenantRef}\n                                                controlled={true}\n                                                type={\"select\"}\n                                                label={\"Tenant\"}\n                                                value={tenantVal}\n                                                onChange={newVal => {\n                                                    setTenantVal(newVal);\n                                                    fetchTemplates({ tenant: newVal?.value || null });\n                                                }}\n                                                options={meta.tenantOptions}\n                                                disabled={showEditor}\n                                            />\n                                        </Col>\n                                        <Col lg=\"2\">\n                                            <FormField\n                                                ref={channelRef}\n                                                controlled={true}\n                                                type={\"select\"}\n                                                label={\"Channel\"}\n                                                value={channelVal}\n                                                onChange={newVal => {\n                                                    setChannelVal(newVal);\n                                                    fetchTemplates({ channel: newVal?.value || null });\n                                                }}\n                                                options={meta.channelOptions}\n                                                isClearable={true}\n                                                disabled={showEditor}\n                                            />\n                                        </Col>\n                                        <Col lg=\"2\">\n                                            <FormField\n                                                ref={languageRef}\n                                                controlled={true}\n                                                type={\"select\"}\n                                                label={\"Language\"}\n                                                value={languageVal}\n                                                onChange={newVal => {\n                                                    setLanguageVal(newVal);\n                                                    fetchTemplates({ language: newVal?.value || null });\n                                                }}\n                                                options={meta.languageOptions}\n                                                isClearable={true}\n                                                disabled={showEditor}\n                                            />\n                                        </Col>\n                                        <Col lg=\"3\">\n                                            {editorMode?.value == \"CREATE\" ? (\n                                                <FormField\n                                                    ref={templateNameRef}\n                                                    controlled={true}\n                                                    type={\"text\"}\n                                                    label={\"Template Name\"}\n                                                    value={templateNameVal}\n                                                    onChange={newVal => {\n                                                        if (/^[a-zA-Z0-9_-]*$/.test(newVal)) setTemplateNameVal(newVal);\n                                                    }}\n                                                    disabled={showEditor}\n                                                />\n                                            ) : (\n                                                <FormField\n                                                    ref={templateNameSelectRef}\n                                                    controlled={true}\n                                                    type={\"select\"}\n                                                    label={\"Template Name\"}\n                                                    value={templateNameSelectVal}\n                                                    onChange={newVal => {\n                                                        setTemplateNameSelectVal(newVal);\n                                                    }}\n                                                    options={templateNameSelectOpts}\n                                                    disabled={showEditor}\n                                                />\n                                            )}\n                                        </Col>\n                                        <Col lg=\"1\">\n                                            <FormGroup style={{ marginTop: \"30px\" }}>\n                                                <Button\n                                                    color=\"primary\"\n                                                    onClick={e => (loading ? () => {} : onProceed())}\n                                                    size=\"md\"\n                                                    disabled={showEditor}\n                                                >\n                                                    {loading ? \"loading...\" : \"Proceed\"}\n                                                </Button>\n                                            </FormGroup>\n                                        </Col>\n                                    </Row>\n                                </div>\n                                <hr className=\"my-4\" />\n                            </Form>\n                            {/* Editor */}\n                            {showEditor ? (\n                                <Row className=\"mt-4\">\n                                    <div className=\"col\">\n                                        <EditorWrapper\n                                            title={`Editor`}\n                                            mode={editorMode?.value}\n                                            collapse={editorCollapse}\n                                            setCollapse={setEditorCollapse}\n                                            data={templateData}\n                                            onAction={onAction}\n                                            reset={reset}\n                                        />\n                                    </div>\n                                </Row>\n                            ) : null}\n                        </CardBody>\n                    </Card>\n                </Col>\n            </Row>\n        </ContentWrapper>\n    );\n};\n\nexport default TemplateEditor;\n","import React from \"react\";\nimport { Container } from \"reactstrap\";\n\nconst ContentWrapper = (props) => {\n    return (\n        <>\n            {/* content header */}\n            <div className=\"header bg-gradient-info pb-8 pt-5 pt-md-8\">\n                <Container fluid>\n                    <div className=\"header-body\">\n                        {props.contentHeader}\n                    </div>\n                </Container>\n            </div>\n            {/* content body */}\n            <Container className=\"mt--7\" fluid style={{ minHeight: \"519px\" }}>\n                {props.children}\n            </Container>\n        </>\n    );\n};\n\nexport default ContentWrapper;\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1668759054303\n      var cssReload = require(\"../../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["i","commonValidationProfiles","val","config","emptyErr","label","hiddenLabel","valid","errorMsg","email","regex","test","getValidators","validationProfileKeys","map","v","undefined","RegExp","validationService","validRegex","regExp","regexpStringToObj","value","console","error","REGEX_SPLITTER","regexpString","regexpWithoutSlashes","replace","split","str","isValid","e","validate","validators","results","length","validator","push","formFields","text","React","ref","id","onChangeInput","helperText","containerClass","restProps","className","htmlFor","onChange","target","select","options","defaultValue","disabled","useEffect","find","opt","styles","control","state","isFocussed","boxShadow","height","border","borderRadius","WebkitBoxShadow","transition","newVal","isDisabled","date","style","width","color","type","Date","timeRange","min","toISOString","valueOf","controlled","required","validationProfiles","inputValidator","inputValidations","liveValidations","fieldOpts","inputRef","useRef","useAsyncState","_value","setValue","useState","setErrorMsg","focus","current","getVal","setVal","setError","msg","clearError","errors","filter","isInputValid","every","liveValidate","liveValidators","notFromUser","useImperativeHandle","Field","getCompletionItem","path","key","kind","range","documentation","JSON","stringify","insertText","convertObjectIntoArrayOfKeys","obj","rootKey","arr","Object","prototype","toString","call","subArr","concat","props","theme","language","completetionItemsJsonStr","editorRef","monacoRef","disposeCompletionItems","dispose","completetionItemsObj","parse","log","languages","registerCompletionItemProvider","triggerCharacters","provideCompletionItems","model","position","getValueInRange","startLineNumber","lineNumber","startColumn","endLineNumber","endColumn","column","match","suggestions","word","getWordUntilPosition","suggestionKind","CompletionItemKind","Function","beforeMount","monaco","onMount","editor","newValue","event","onValidate","markers","forEach","marker","message","replaceVariables","result","__properties","variables","variableValues","__variables","variable","variableValue","slice","fallback","includes","Handlebars","registerHelper","data","root","replaceAll","ToastUtil","isViewed","properties","iframeRef","previewValue","compile","template","contentWindow","document","open","write","close","isJsonString","setCompletetionItemsJsonStr","isRegistered","setIsRegistered","Row","Col","xs","tabBarGutter","tab","minimap","enabled","readOnly","Button","onClick","size","handleRegister","EDITOR_LANGUAGE_OPTIONS","EDITOR_THEME_OPTIONS","title","mode","collapse","setCollapse","onAction","reset","emailRef","emailVal","setEmailVal","commitMsgRef","commitMsgVal","setCommitMsgVal","editorLanguage","setEditorLanguage","editorTheme","setEditorTheme","activeTab","setActiveTab","loading","setLoading","getDefaultContent","content","decodeURIComponent","escape","window","atob","content_data","setTimeout","_onAction","content_json","value_without_th_expressions","maskThymeleafExpressions","content_dom","convertStringToNode","textContent","m","c","trim","pop","join","toJSON","payload","commitMessage","btoa","unescape","encodeURIComponent","Card","Collapse","isOpen","CardFooter","lg","placeholder","Api","prefix","responseBuilder","res","url","request","method","serializeParams","post","headers","getUrl","axiosArgs","getAxiosArgs","axios","response","status","interceptorResp","Promise","resolve","urlType","toLowerCase","_options","Accept","responseType","cancelToken","params","this","CONST","remoteServerUrl","meta","setMeta","editorMode","setEditorMode","tenantRef","tenantVal","setTenantVal","channelRef","channelVal","setChannelVal","languageRef","languageVal","setLanguageVal","templateNameRef","templateNameVal","setTemplateNameVal","templateNameSelectRef","templateNameSelectVal","setTemplateNameSelectVal","templateNameSelectOpts","setTemplateNameSelectOpts","templateData","setTemplateData","showEditor","setShowEditor","editorCollapse","setEditorCollapse","init","fetchMeta","_meta","editorModeOptions","tenantOptions","fetchTemplates","tenant","get","channel","req","per_page","_templateNameSelectOpts","t","name","fetchTemplate","templatePath","fetchProperties","prev","actionTypeMeta","CREATE","UPDATE","DELETE","avoidResetTemplates","ContentWrapper","xl","CardHeader","CardBody","Form","repoUrl","branchName","opacity","channelOptions","isClearable","languageOptions","FormGroup","marginTop","onProceed","fluid","contentHeader","minHeight","children","cssReload","module","hot","accept"],"sourceRoot":""}